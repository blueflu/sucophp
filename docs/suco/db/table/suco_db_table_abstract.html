<!doctype html>

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2.0.5 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Wed, 19 Feb 2014 01:42:35 +0000">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<title>Suco_Db_Table_Abstract (SucoPHP API Doc)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>SucoPHP Doc</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../suco/db/table/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../suco/db/table/package-tree.html">Tree</a></li>
<li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../suco\db\table\suco_db_table_abstract.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Suco\Db\Table\Suco_Db_Table_Abstract</div>
<a href="../../../source/db/table/abstract.php.html#line13" class="location">Db\Table\Abstract.php at line 13</a>

<h1>Class Suco_Db_Table_Abstract</h1>

<pre class="tree"><strong>Suco_Db_Table_Abstract</strong><br /></pre>

<dl>
<dt>All Known Subclasses:</dt>
<dd><a href="../../../suco/db/suco_db_table.html">Suco\Db\Suco_Db_Table</a> </dd>
</dl>

<hr>

<p class="signature">public abstract  class <strong>Suco_Db_Table_Abstract</strong></p>

<div class="comment" id="overview_description"><p>Suco_Db_Table_Abstract 表业务抽象</p></div>

<dl>
<dt>Version:</dt>
<dd>3.0 2009/09/01</dd>
<dt>Author:</dt>
<dd>Eric Yu (blueflu@live.cn)</dd>
<dt>Copyright:</dt>
<dd>Copyright (c) 2008, Suconet, Inc.</dd>
<dt>License:</dt>
<dd>http://www.suconet.com/license</dd>
</dl>
<hr>

<table id="summary_constructor">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__construct()">__construct</a>(string tbName, array options)</p><p class="description">构造方法</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#init()">init</a>()</p><p class="description">初始化方法</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setOptions()">setOptions</a>(mixed options)</p><p class="description">类配置方法</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setReferenceMap()">setReferenceMap</a>(array map)</p><p class="description">设置映射关系</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getReferenceMap()">getReferenceMap</a>()</p><p class="description">设置映射关系</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setNoModifyColumns()">setNoModifyColumns</a>(array columns)</p><p class="description">设置禁止修改的列</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getNoModifyColumns()">getNoModifyColumns</a>()</p><p class="description">返回禁止修改的列</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#setColumns()">setColumns</a>(mixed columns)</p><p class="description">设置列</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getColumns()">getColumns</a>()</p><p class="description">返回列</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#setSchema()">setSchema</a>(mixed schema)</p><p class="description">设置SCHEMA</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getSchema()">getSchema</a>()</p><p class="description">返回SCHEMA</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setRowClass()">setRowClass</a>(string class)</p><p class="description">设置 row 类名</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getRowClass()">getRowClass</a>()</p><p class="description">返回 row 类名</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#setRowsetClass()">setRowsetClass</a>(string class)</p><p class="description">设置 rowset 类名</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getRowsetClass()">getRowsetClass</a>()</p><p class="description">返回 rowset 类名</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getName()">getName</a>()</p><p class="description">返回表对象名称</p></td>
</tr>
<tr>
<td class="type"> object;</td>
<td class="description"><p class="name"><a href="#setName()">setName</a>(string name)</p><p class="description">设置表对象名称</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getTableName()">getTableName</a>()</p><p class="description">返回数据表名称</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setIdentity()">setIdentity</a>(string field)</p><p class="description">设置自增字段</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getIdentity()">getIdentity</a>()</p><p class="description">返回自增字段</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#getInsertId()">getInsertId</a>()</p><p class="description">返回最后插入的ID</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#setDefaultValues()">setDefaultValues</a>(array values)</p><p class="description">设置默认值</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getDefaultValues()">getDefaultValues</a>()</p><p class="description">返回默认值</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#setMetadata()">setMetadata</a>(array metadata)</p><p class="description">设置Metadata</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#getMetadata()">getMetadata</a>()</p><p class="description">返回Metadata</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#fetchAll()">fetchAll</a>(mixed where, mixed order, mixed count, mixed offset)</p><p class="description">fetchRows 方法的别名</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#fetchRows()">fetchRows</a>(string where, string order, int count, int offset)</p><p class="description">提取记录集</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#fetchRow()">fetchRow</a>(string where, string order)</p><p class="description">提取单条记录</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#fetchCols()">fetchCols</a>(string col, string where)</p><p class="description">提取单列多项记录</p></td>
</tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#fetchCol()">fetchCol</a>(string col, string where)</p><p class="description">提取单列项记录</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#fetchOnKey()">fetchOnKey</a>(string key)</p><p class="description">指定键值提取记录集</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#create()">create</a>(string key)</p><p class="description">模拟创建一条空记录
通常配合 Suco_Db_Table_Row 对象的 save 方法一起使用
如：
$tb = $db->table('product');
$row = $tb->create()
$row->title = 'test';
$row->price = 100;
$row->save(); //执行save时，会将此记录insert到数据库中，否则不会操作数据库
</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#getById()">getById</a>(mixed cond, mixed id)</p><p class="description">按主键ID查询
根据传入条件返回记录或记录集
如：
$tb = $db->table('product');#参数为Int类型时，将以主键ID查询一笔记录并返回 Suco_Db_Table_Row
$row = $tb->find(2); //Query: where id = 2#参数为Array类型时，将以数组的键值查询一笔记录并返回 Suco_Db_Table_Row
$row = $tb->find(array('price' => 100, 'title' => 'test'));
//Query: where price = 100 AND title = 'test'#参数为String类型时，将以此作为where条件查询多笔记录并返回 Suco_Db_Table_Rows
$rows = $tb->find('price > 100'); //Query: where price > 100
</p></td>
</tr>
<tr>
<td class="type">static  object</td>
<td class="description"><p class="name"><a href="#alias()">alias</a>(string alias)</p><p class="description">设置表别名，并返回 Suco_Db_Select 对象</p></td>
</tr>
<tr>
<td class="type"> object</td>
<td class="description"><p class="name"><a href="#select()">select</a>(string|array cols)</p><p class="description">开启SELECT语句，返回 Suco_Db_Select 对象</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#insert()">insert</a>(array data)</p><p class="description">执行INSERT语句插入记录</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#update()">update</a>(array|string data, string cond)</p><p class="description">执行UPDATE语句更新记录
例：
$db->table('product')->update('price = 200', 'title = \'test\''); #将标题为test的价格改为200
#也可以这样写
$db->table('product')->update(array('price' => 200), 'title = ?', 'test');
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#updateById()">updateById</a>(array|string data, int id)</p><p class="description">以主键ID为条件，执行UPDATE语句更新记录
例：
$db->table('product')->updateById('title = \'test\'', 2); 将主键ID=2的标题改为test
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#delete()">delete</a>(string cond)</p><p class="description">执行DELETE语句删除记录
例：
$db->table('product')->delete('price > 100'); 删除价格大于100的记录
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#deleteById()">deleteById</a>(int id)</p><p class="description">以主键ID为条件，执行DELETE语句删除记录
例：
$db->table('product')->deleteById(2); 删除主键ID=2的记录
</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#count()">count</a>(string cond)</p><p class="description">执行COUNT查询
例：
$tb = $db->table('product');
$tb->count('price > 100'); //SELECT count(*) AS result FROM product WHERE price > 100
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#validation()">validation</a>(array data, string event)</p><p class="description">数据有效性验证方式 (保留方法)</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#insertFilter()">insertFilter</a>(array data)</p><p class="description">执行 insert 前的数据过滤</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#updateFilter()">updateFilter</a>(array data)</p><p class="description">执行 update 前的数据过滤</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#inputFilter()">inputFilter</a>(array data)</p><p class="description">执行 insert和update 前的数据过滤</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#outputFilter()">outputFilter</a>(array data)</p><p class="description">输出记录前的数据过滤</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#filter()">filter</a>(mixed data)</p><p class="description">数据过滤,此方法在调用insert和update前会被自动调用</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#quoteInto()">quoteInto</a>(string expr, array params)</p><p class="description">解析参数化查询</p></td>
</tr>
<tr>
<td class="type"> int</td>
<td class="description"><p class="name"><a href="#getUniqueCode()">getUniqueCode</a>(string column, int length, str prefix)</p><p class="description">指定字段返回一个唯一数</p></td>
</tr>
</table>

<h2 id="detail_method">Constructor Detail</h2>
<a href="../../../source/db/table/abstract.php.html#line114" class="location">Db\Table\Abstract.php at line 114</a>

<h3 id="__construct()">__construct</h3>
<code class="signature">public  void <strong>__construct</strong>(string tbName, array options)</code>
<div class="details">
<p>构造方法</p><dl>
<dt>Parameters:</dt>
<dd>tbName - 表名</dd>
<dd>options - 设置选项</dd>
</dl>
</div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<a href="../../../source/db/table/abstract.php.html#line135" class="location">Db\Table\Abstract.php at line 135</a>

<h3 id="init()">init</h3>
<code class="signature">public  void <strong>init</strong>()</code>
<div class="details">
<p>初始化方法</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line146" class="location">Db\Table\Abstract.php at line 146</a>

<h3 id="setOptions()">setOptions</h3>
<code class="signature">public  void <strong>setOptions</strong>(mixed options)</code>
<div class="details">
<p>类配置方法</p><dl>
<dt>Example:</dt>
<dd>$tb = new Suco_Db_Table('tbname', array( 'columns' => array('id', 'name') 'identity' => 'id' ...... ));</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line170" class="location">Db\Table\Abstract.php at line 170</a>

<h3 id="setReferenceMap()">setReferenceMap</h3>
<code class="signature">public  void <strong>setReferenceMap</strong>(array map)</code>
<div class="details">
<p>设置映射关系</p><dl>
<dt>Parameters:</dt>
<dd>map - $map 数组结构</dd>
<dt>Type:</dt>
<dd>链接类型 - hasone 一对一 - hasmany 一对多</dd>
<dt>Foreign:</dt>
<dd>链接外键</dd>
<dt>Primary:</dt>
<dd>链接主键</dd>
<dt>Columns:</dt>
<dd>引用列</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line180" class="location">Db\Table\Abstract.php at line 180</a>

<h3 id="getReferenceMap()">getReferenceMap</h3>
<code class="signature">public  array <strong>getReferenceMap</strong>()</code>
<div class="details">
<p>设置映射关系</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line190" class="location">Db\Table\Abstract.php at line 190</a>

<h3 id="setNoModifyColumns()">setNoModifyColumns</h3>
<code class="signature">public  void <strong>setNoModifyColumns</strong>(array columns)</code>
<div class="details">
<p>设置禁止修改的列</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line200" class="location">Db\Table\Abstract.php at line 200</a>

<h3 id="getNoModifyColumns()">getNoModifyColumns</h3>
<code class="signature">public  array <strong>getNoModifyColumns</strong>()</code>
<div class="details">
<p>返回禁止修改的列</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line210" class="location">Db\Table\Abstract.php at line 210</a>

<h3 id="setColumns()">setColumns</h3>
<code class="signature">public  array <strong>setColumns</strong>(mixed columns)</code>
<div class="details">
<p>设置列</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line220" class="location">Db\Table\Abstract.php at line 220</a>

<h3 id="getColumns()">getColumns</h3>
<code class="signature">public  array <strong>getColumns</strong>()</code>
<div class="details">
<p>返回列</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line233" class="location">Db\Table\Abstract.php at line 233</a>

<h3 id="setSchema()">setSchema</h3>
<code class="signature">public  string <strong>setSchema</strong>(mixed schema)</code>
<div class="details">
<p>设置SCHEMA</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line244" class="location">Db\Table\Abstract.php at line 244</a>

<h3 id="getSchema()">getSchema</h3>
<code class="signature">public  string <strong>getSchema</strong>()</code>
<div class="details">
<p>返回SCHEMA</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line254" class="location">Db\Table\Abstract.php at line 254</a>

<h3 id="setRowClass()">setRowClass</h3>
<code class="signature">public  void <strong>setRowClass</strong>(string class)</code>
<div class="details">
<p>设置 row 类名</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line265" class="location">Db\Table\Abstract.php at line 265</a>

<h3 id="getRowClass()">getRowClass</h3>
<code class="signature">public  string <strong>getRowClass</strong>()</code>
<div class="details">
<p>返回 row 类名</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line280" class="location">Db\Table\Abstract.php at line 280</a>

<h3 id="setRowsetClass()">setRowsetClass</h3>
<code class="signature">public  string <strong>setRowsetClass</strong>(string class)</code>
<div class="details">
<p>设置 rowset 类名</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line291" class="location">Db\Table\Abstract.php at line 291</a>

<h3 id="getRowsetClass()">getRowsetClass</h3>
<code class="signature">public  string <strong>getRowsetClass</strong>()</code>
<div class="details">
<p>返回 rowset 类名</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line305" class="location">Db\Table\Abstract.php at line 305</a>

<h3 id="getName()">getName</h3>
<code class="signature">public  string <strong>getName</strong>()</code>
<div class="details">
<p>返回表对象名称</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line316" class="location">Db\Table\Abstract.php at line 316</a>

<h3 id="setName()">setName</h3>
<code class="signature">public  object; <strong>setName</strong>(string name)</code>
<div class="details">
<p>设置表对象名称</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line327" class="location">Db\Table\Abstract.php at line 327</a>

<h3 id="getTableName()">getTableName</h3>
<code class="signature">public  string <strong>getTableName</strong>()</code>
<div class="details">
<p>返回数据表名称</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line337" class="location">Db\Table\Abstract.php at line 337</a>

<h3 id="setIdentity()">setIdentity</h3>
<code class="signature">public  void <strong>setIdentity</strong>(string field)</code>
<div class="details">
<p>设置自增字段</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line347" class="location">Db\Table\Abstract.php at line 347</a>

<h3 id="getIdentity()">getIdentity</h3>
<code class="signature">public  string <strong>getIdentity</strong>()</code>
<div class="details">
<p>返回自增字段</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line365" class="location">Db\Table\Abstract.php at line 365</a>

<h3 id="getInsertId()">getInsertId</h3>
<code class="signature">public  int <strong>getInsertId</strong>()</code>
<div class="details">
<p>返回最后插入的ID</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line376" class="location">Db\Table\Abstract.php at line 376</a>

<h3 id="setDefaultValues()">setDefaultValues</h3>
<code class="signature">public  object <strong>setDefaultValues</strong>(array values)</code>
<div class="details">
<p>设置默认值</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line387" class="location">Db\Table\Abstract.php at line 387</a>

<h3 id="getDefaultValues()">getDefaultValues</h3>
<code class="signature">public  array <strong>getDefaultValues</strong>()</code>
<div class="details">
<p>返回默认值</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line401" class="location">Db\Table\Abstract.php at line 401</a>

<h3 id="setMetadata()">setMetadata</h3>
<code class="signature">public  object <strong>setMetadata</strong>(array metadata)</code>
<div class="details">
<p>设置Metadata</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line412" class="location">Db\Table\Abstract.php at line 412</a>

<h3 id="getMetadata()">getMetadata</h3>
<code class="signature">public  array <strong>getMetadata</strong>()</code>
<div class="details">
<p>返回Metadata</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line425" class="location">Db\Table\Abstract.php at line 425</a>

<h3 id="fetchAll()">fetchAll</h3>
<code class="signature">public  object <strong>fetchAll</strong>(mixed where, mixed order, mixed count, mixed offset)</code>
<div class="details">
<p>fetchRows 方法的别名</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line439" class="location">Db\Table\Abstract.php at line 439</a>

<h3 id="fetchRows()">fetchRows</h3>
<code class="signature">public  object <strong>fetchRows</strong>(string where, string order, int count, int offset)</code>
<div class="details">
<p>提取记录集</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line461" class="location">Db\Table\Abstract.php at line 461</a>

<h3 id="fetchRow()">fetchRow</h3>
<code class="signature">public  object <strong>fetchRow</strong>(string where, string order)</code>
<div class="details">
<p>提取单条记录</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line482" class="location">Db\Table\Abstract.php at line 482</a>

<h3 id="fetchCols()">fetchCols</h3>
<code class="signature">public  array <strong>fetchCols</strong>(string col, string where)</code>
<div class="details">
<p>提取单列多项记录</p><dl>
<dt>Parameters:</dt>
<dd>col - 要提取的列名</dd>
<dd>where - 指定条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line498" class="location">Db\Table\Abstract.php at line 498</a>

<h3 id="fetchCol()">fetchCol</h3>
<code class="signature">public  mixed <strong>fetchCol</strong>(string col, string where)</code>
<div class="details">
<p>提取单列项记录</p><dl>
<dt>Parameters:</dt>
<dd>col - 要提取的列名</dd>
<dd>where - 指定条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line513" class="location">Db\Table\Abstract.php at line 513</a>

<h3 id="fetchOnKey()">fetchOnKey</h3>
<code class="signature">public  object <strong>fetchOnKey</strong>(string key)</code>
<div class="details">
<p>指定键值提取记录集</p><dl>
<dt>Parameters:</dt>
<dd>key - 键名 通常是字段名或字段别名</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line532" class="location">Db\Table\Abstract.php at line 532</a>

<h3 id="create()">create</h3>
<code class="signature">public  object <strong>create</strong>(string key)</code>
<div class="details">
<p>模拟创建一条空记录
通常配合 Suco_Db_Table_Row 对象的 save 方法一起使用
如：<code>
$tb = $db->table('product');
$row = $tb->create()
$row->title = 'test';
$row->price = 100;
$row->save(); //执行save时，会将此记录insert到数据库中，否则不会操作数据库
</code></p><dl>
<dt>Parameters:</dt>
<dd>key - 键名 通常是字段名或字段别名</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line558" class="location">Db\Table\Abstract.php at line 558</a>

<h3 id="getById()">getById</h3>
<code class="signature">public  object <strong>getById</strong>(mixed cond, mixed id)</code>
<div class="details">
<p>按主键ID查询
根据传入条件返回记录或记录集
如：<code>
$tb = $db->table('product');</p><p>#参数为Int类型时，将以主键ID查询一笔记录并返回 Suco_Db_Table_Row
$row = $tb->find(2); //Query: where id = 2</p><p>#参数为Array类型时，将以数组的键值查询一笔记录并返回 Suco_Db_Table_Row
$row = $tb->find(array('price' => 100, 'title' => 'test'));
//Query: where price = 100 AND title = 'test'</p><p>#参数为String类型时，将以此作为where条件查询多笔记录并返回 Suco_Db_Table_Rows
$rows = $tb->find('price > 100'); //Query: where price > 100
</code></p><dl>
<dt>Parameters:</dt>
<dd>cond - 查询条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line620" class="location">Db\Table\Abstract.php at line 620</a>

<h3 id="alias()">alias</h3>
<code class="signature">public static  object <strong>alias</strong>(string alias)</code>
<div class="details">
<p>设置表别名，并返回 Suco_Db_Select 对象</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line634" class="location">Db\Table\Abstract.php at line 634</a>

<h3 id="select()">select</h3>
<code class="signature">public  object <strong>select</strong>(string|array cols)</code>
<div class="details">
<p>开启SELECT语句，返回 Suco_Db_Select 对象</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line648" class="location">Db\Table\Abstract.php at line 648</a>

<h3 id="insert()">insert</h3>
<code class="signature">public  int <strong>insert</strong>(array data)</code>
<div class="details">
<p>执行INSERT语句插入记录</p><dl>
<dt>Parameters:</dt>
<dd>data - 数组的键名对应字段名，键值对应字段值</dd>
<dt>Returns:</dt>
<dd>返回主键ID</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line673" class="location">Db\Table\Abstract.php at line 673</a>

<h3 id="update()">update</h3>
<code class="signature">public  void <strong>update</strong>(array|string data, string cond)</code>
<div class="details">
<p>执行UPDATE语句更新记录
例：<code>
$db->table('product')->update('price = 200', 'title = \'test\''); #将标题为test的价格改为200
#也可以这样写
$db->table('product')->update(array('price' => 200), 'title = ?', 'test');
</code></p><dl>
<dt>Parameters:</dt>
<dd>data - 数组的键名对应字段名，键值对应字段值</dd>
<dd>cond - 设定条件，支持参数化查询条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line711" class="location">Db\Table\Abstract.php at line 711</a>

<h3 id="updateById()">updateById</h3>
<code class="signature">public  void <strong>updateById</strong>(array|string data, int id)</code>
<div class="details">
<p>以主键ID为条件，执行UPDATE语句更新记录
例：<code>
$db->table('product')->updateById('title = \'test\'', 2); 将主键ID=2的标题改为test
</code></p><dl>
<dt>Parameters:</dt>
<dd>data - 数组的键名对应字段名，键值对应字段值</dd>
<dd>id - 设定主键ID值</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line736" class="location">Db\Table\Abstract.php at line 736</a>

<h3 id="delete()">delete</h3>
<code class="signature">public  void <strong>delete</strong>(string cond)</code>
<div class="details">
<p>执行DELETE语句删除记录
例：<code>
$db->table('product')->delete('price > 100'); 删除价格大于100的记录
</code></p><dl>
<dt>Parameters:</dt>
<dd>cond - 设定条件，支持参数化查询条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line762" class="location">Db\Table\Abstract.php at line 762</a>

<h3 id="deleteById()">deleteById</h3>
<code class="signature">public  void <strong>deleteById</strong>(int id)</code>
<div class="details">
<p>以主键ID为条件，执行DELETE语句删除记录
例：<code>
$db->table('product')->deleteById(2); 删除主键ID=2的记录
</code></p><dl>
<dt>Parameters:</dt>
<dd>id - 设定主键ID值</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line783" class="location">Db\Table\Abstract.php at line 783</a>

<h3 id="count()">count</h3>
<code class="signature">public  int <strong>count</strong>(string cond)</code>
<div class="details">
<p>执行COUNT查询
例：<code>
$tb = $db->table('product');
$tb->count('price > 100'); //SELECT count(*) AS result FROM product WHERE price > 100
</code></p><dl>
<dt>Parameters:</dt>
<dd>cond - 设定条件</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line799" class="location">Db\Table\Abstract.php at line 799</a>

<h3 id="validation()">validation</h3>
<code class="signature">public  void <strong>validation</strong>(array data, string event)</code>
<div class="details">
<p>数据有效性验证方式 (保留方法)</p><dl>
<dt>Parameters:</dt>
<dd>data - 传入数据</dd>
<dd>event - 调用方法 insert或update</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line809" class="location">Db\Table\Abstract.php at line 809</a>

<h3 id="insertFilter()">insertFilter</h3>
<code class="signature">public  array <strong>insertFilter</strong>(array data)</code>
<div class="details">
<p>执行 insert 前的数据过滤</p><dl>
<dt>Parameters:</dt>
<dd>data - 传入数据</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line827" class="location">Db\Table\Abstract.php at line 827</a>

<h3 id="updateFilter()">updateFilter</h3>
<code class="signature">public  array <strong>updateFilter</strong>(array data)</code>
<div class="details">
<p>执行 update 前的数据过滤</p><dl>
<dt>Parameters:</dt>
<dd>data - 传入数据</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line835" class="location">Db\Table\Abstract.php at line 835</a>

<h3 id="inputFilter()">inputFilter</h3>
<code class="signature">public  array <strong>inputFilter</strong>(array data)</code>
<div class="details">
<p>执行 insert和update 前的数据过滤</p><dl>
<dt>Parameters:</dt>
<dd>data - 传入数据</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line843" class="location">Db\Table\Abstract.php at line 843</a>

<h3 id="outputFilter()">outputFilter</h3>
<code class="signature">public  array <strong>outputFilter</strong>(array data)</code>
<div class="details">
<p>输出记录前的数据过滤</p><dl>
<dt>Parameters:</dt>
<dd>data - 传入数据</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line848" class="location">Db\Table\Abstract.php at line 848</a>

<h3 id="filter()">filter</h3>
<code class="signature">public  void <strong>filter</strong>(mixed data)</code>
<div class="details">
<p>数据过滤,此方法在调用insert和update前会被自动调用</p></div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line890" class="location">Db\Table\Abstract.php at line 890</a>

<h3 id="quoteInto()">quoteInto</h3>
<code class="signature">public  string <strong>quoteInto</strong>(string expr, array params)</code>
<div class="details">
<p>解析参数化查询</p><dl>
<dt>Parameters:</dt>
<dd>expr - 表达式</dd>
<dd>params - 参数</dd>
</dl>
</div>

<hr>

<a href="../../../source/db/table/abstract.php.html#line902" class="location">Db\Table\Abstract.php at line 902</a>

<h3 id="getUniqueCode()">getUniqueCode</h3>
<code class="signature">public  int <strong>getUniqueCode</strong>(string column, int length, str prefix)</code>
<div class="details">
<p>指定字段返回一个唯一数</p></div>

<hr>

<div class="header">
<h1>SucoPHP Doc</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../suco/db/table/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../suco/db/table/package-tree.html">Tree</a></li>
<li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../suco\db\table\suco_db_table_abstract.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>